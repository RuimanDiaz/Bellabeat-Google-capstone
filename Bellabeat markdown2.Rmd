---
title: "BellaBeat"
author: "Ruiman Diaz Suarez"
date: "05/04/2022"
output: github_document
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE)
```



# Google Capstone Project: How can Bellabeat, A wellness Technology Company Play It Smart?

<br>

Bellabeat is a high-tech company that manufactures health-focused smart products. Sršen used her background as an artist to develop beautifully designed technology that informs and inspires women around the world. Collecting data on activity, sleep, stress, and reproductive health has allowed Bellabeat to empower women with knowledge about their own health and habits. Since it was founded in 2013, Bellabeat has grown rapidly and quickly positioned itself as a tech-driven wellness company for women.

By 2016, Bellabeat had opened offices around the world and launched multiple products. Bellabeat products became available through a growing number of online retailers in addition to their own e-commerce channel on their website. The company has invested in traditional advertising media, such as radio, out-of-home billboards, print, and television, but focuses on digital marketing extensively. Bellabeat invests year-round in Google Search, maintaining active Facebook and Instagram pages, and consistently engages consumers on Twitter. Additionally, Bellabeat runs video ads on Youtube and display ads on the Google Display Network to support campaigns around key marketing dates.

Sršen knows that an analysis of Bellabeat’s available consumer data would reveal more opportunities for growth. She has asked the marketing analytics team to focus on a Bellabeat product and analyze smart device usage data in order to gain insight into how people are already using their smart devices. Then, using this information, she would like high-level recommendations for how these trends can inform Bellabeat marketing strategy.

### Business task

Analyze Fitbit fitness tracker data to gain insights into how consumers are using FitBit app and discover some trends for Bellabeat strategy.this questions will guide our analysis:

* What are some trends in smart device usage?

* How could these trends apply to Bellabeat customers?

* How could these trends help influence Bellabeat marketing strategy?


Key stakeholders:

* Urška Sršen: Bellabeat’s cofounder and Chief Creative Officer
* Sando Mur: Mathematician, Bellabeat’s cofounder and key member of the Bellabeat executive team
* Bellabeat marketing analytics team: A team of data analysts guiding Bellabeat’s marketing strategy.

This report's deliverables:

*   A clear summary of the business task
*   A descripion of all data sources used 
*   Documentation of any cleaning or manipulation of data
*   A summary of all analysis
*   Supporting visualizations and key findings
*   High-level recommendations based on the analysis

### Prepare

The data that I'll be using is on [Kaggle:FitBit Fitness Tracker Data](https://www.kaggle.com/datasets/arashnic/fitbit) and it composed by 18 files of 30 FitBit users consented submision of personal tracked data.

the data was generated by respondents from a survey via Amazon Mechanical Turk between 12 March 2016 to 12 May 2016.

is this data ROCCC?

*   Reliable — LOW — Not reliable as it only has 30 respondents
*   Original — LOW — Third party provider (Amazon Mechanical Turk)
*   Comprehensive — MED — Parameters match most of Bellabeat products’ parameters
*   Current — LOW — Data is 6 years old and may not be relevant
*   Cited — LOW — Data collected from third party, hence unknown

we start by uploading the datasets we are going to use in Rstudio and the libraries.






```{r Datasets,warning=FALSE,message=FALSE}
library(tidyverse)
sleep_day<-read.csv("sleepDay_merged.csv")
daily_activity<-read.csv("dailyActivity_merged.csv")
weightlog<-read.csv("weightLog_mod.csv")
heart<- read.csv("heartrate_seconds_merged.csv")
hourlysteps<-read.csv("hourlySteps_1.csv")
```

### Process

Here, we will process the data, clean it and give the correct format.

we check our first data frame:
```{r  }
str(sleep_day)

```
we have 413 rows and 5 columns or variables, lets check now for duplicates.
```{r}
nrow(sleep_day[duplicated(sleep_day),])
```
It shows that we have 3 duplicates so we proceed to delete them.
```{r}
sleep_day2<- unique(sleep_day)
```
```{r}
str(sleep_day2)
```
After remove the duplicates next step is separate date into date and time for further analysis.
```{r warning=FALSE,results='hide'}
separate(sleep_day2,SleepDay,c("date","time"),sep = " ")
```


the next data frame that we are going to manipulate is daily_activity.
```{r}
str(daily_activity)
```


Checking for duplicates
```{r}
nrow(daily_activity[duplicated(daily_activity), ]  )
```
also looking for nulls
```{r}
sum(is.null(daily_activity)) 
```
<br>
<br> 
  
we have no nulls and cero duplicates,next we are going to focus is on the formatting and filter some cero values in calories.
```{r}
 daily_activity2<-daily_activity %>%               #we remove the entries where says 0 calories// we had 4 entries
  filter(Calories!=0)
```
format ActivityDate from chr to date
```{r}
daily_activity3<-mutate(daily_activity2,ActivityDate=as.Date(ActivityDate,format= "%m/%d/%Y"))
daily_activity3<-rename(daily_activity3,Date=ActivityDate) # After change the format we give it another name "Date"
```
now we create a new column with the week days for further analysis.
```{r}
daily_activity3$day_of_the_week<- weekdays(daily_activity3$Date)
daily_activity3<- daily_activity3[,c(1,2,16,3:15)]         #we rearrange the columns to make it more aesthetically pleasant  
```
Once we have formatting done the next steps is to analyse all data frames to drw conclusions.

### Analysis

First thing to is is call the function summary to see some basic information.
```{r}
summary(daily_activity3)

```
Interpreting statistical findings:

* On average, the total steps were 7671 and the distance 5.51 km which is not good, the recommended by CDC should be 10000 steps and 8 km per day.
* The active minutes analysis gives us a result of 81.24% of the time the users were doing little activity or being sedentary

From heart data frame we could check the values that we have in heart rate to see if we can draw some conclusions
```{r}
max(heart$Value)    

```
```{r}
mean(heart$Value)
```
```{r}
min(heart$Value)
```


the maximum heart rate is 203 which is above recommended,during exercise should be 50-85% maximum rate.

```{r}
summary(sleep_day2)
```
we can see that on average the users slept 419.2 min but they spent 458.5 min in bed.

### Share

findings with data visualisation
```{r pressure, echo=TRUE,warning=FALSE,fig.show='asis'}
sedentary<-mean(daily_activity3$SedentaryMinutes)
lightly<-mean(daily_activity3$LightlyActiveMinutes)
farly<-mean(daily_activity3$FairlyActiveMinutes)
very_active<-mean(daily_activity3$VeryActiveMinutes)

slices<- list(farly,lightly,sedentary,very_active) 
slices_2<- c(farly,lightly,sedentary,very_active) 



percent<-paste0(c("Fairly","Lightly","Sedentary","Very Active")," ",round(100*slices_2/sum(slices_2),2 ),"%")
par(mar=c(5,5,5,5))             #sets the margins,the bigger the number the bigger the margin and hence the smallest the graph

pie(slices_2,labels = percent ,hole=0,main="Activity in minutes") 
```
<br>
In this pie we are looking at the proportion of the activity during the day on average,

* Sedentary minutes accounts for 81.24% of the total
* Only a small percentage was dedicated to do fitness(1.75% and 1.12%)
<br>
<br>
<br>

#### Day of the week where users were more active
the most active days are tuesday,wednesday and thursday.
```{r  warning=FALSE,fig.show='asis'}
df2<-daily_activity3 %>% 
  group_by(day_of_the_week) %>% 
  mutate(count_name=n())
  #we sort it by the name occurrences.

ggplot(df2,aes(x=reorder(day_of_the_week,-count_name)))+geom_bar(colour="black",fill="darkorange3")+labs(x="",y="Count")+theme(legend.position = "none")
```

<br>
<br>

#### Most active hours

Most of the steps happen in the morning between 7 am to 12 pm.


```{r  }
ggplot(hourlysteps,aes(x=StepTotal,y=Hour))+geom_col(fill="goldenrod3")

```


### Act

As we have seen some common patterns are that most of the users don't use the tracking app where doing fitness they use it instead when doing normal activities as 
only 2.87% of the time they were exercising,the most active days are tuesday,wednesday and thursday having the mayority of the steps during the morning.
The Bellabeat app could collect more individualized data about patterns in the routine like day and time of the user and adapt this information to each individual.

<br>

Also we need to have in consideration that on average the total steps are 7671 and 5.5 km, around 20% below recommended.The app could recommend how far is the user from optimal values to help users to achieve their goals.







